(()=>{const particlesEffect="lighter";var cdom=document.createElement("canvas");cdom.id="myCanvas",cdom.style.position="fixed",cdom.style.left="0",cdom.style.top="0",cdom.style.zIndex=-1,document.body.appendChild(cdom);var canvas=document.getElementById("myCanvas"),context=canvas.getContext("2d"),rid;function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}function clearCanvas(){context.fillStyle="#000000",context.fillRect(0,0,canvas.width,canvas.height)}function mouseDownHandler(e){if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];x=touch.pageX,y=touch.pageY}else"mousedown"!=e.type&&"mouseup"!=e.type&&"mousemove"!=e.type&&"mouseover"!=e.type&&"mouseout"!=e.type&&"mouseenter"!=e.type&&"mouseleave"!=e.type||(x=e.clientX,y=e.clientY);fire(x,y)}function fire(x,y){function tick(){context.globalCompositeOperation="destination-out",context.fillStyle="rgba(0,0,0,0.1)",context.fillRect(0,0,canvas.width,canvas.height),context.globalCompositeOperation="lighter",drawFireworks(),rid=requestAnimationFrame(tick)}createFireworks(x,y),cancelAnimationFrame(rid),tick()}window.addEventListener("resize",resizeCanvas,!1),resizeCanvas(),clearCanvas();var particles=[];function createFireworks(sx,sy){particles=[];for(var hue=Math.floor(51*Math.random())+150,hueVariance=30,count=100,i=0;i<100;i++){var p={},angle=Math.floor(360*Math.random());p.radians=angle*Math.PI/180,p.x=sx,p.y=sy,p.speed=5*Math.random()+.4,p.radius=p.speed,p.size=Math.floor(3*Math.random())+1,p.hue=Math.floor(Math.random()*(hue+30-(hue-30)))+(hue-30),p.brightness=Math.floor(31*Math.random())+50,p.alpha=(Math.floor(61*Math.random())+40)/100,particles.push(p)}}function drawFireworks(){clearCanvas(),waterMark(),context.globalCompositeOperation="lighter";for(var i=0;i<particles.length;i++){var p=particles[i],vx=Math.cos(p.radians)*p.radius,vy=Math.sin(p.radians)*p.radius+.4;p.x+=vx,p.y+=vy,p.radius*=1-p.speed/100,p.alpha-=.005,context.beginPath(),context.arc(p.x,p.y,p.size,0,2*Math.PI,!1),context.closePath(),context.fillStyle="hsla("+p.hue+", 100%, "+p.brightness+"%, "+p.alpha+")",context.fill()}}let water={x:0,y:20};function waterMark(){context.font="14px Arial",context.fillStyle="rgba(255,255,255,0.3)",context.globalCompositeOperation="xor",context.fillText("Zheng Lin Lei",water.x,water.y),water.x>=window.innerWidth&&(water.x=0),water.x++}document.addEventListener("mousedown",mouseDownHandler,!1)})();